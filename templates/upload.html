{% extends "base.html" %}
{% block content %}
<!-- In the <head> section of your HTML template -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    
<title>Upload Page</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f2f5;
        margin: 0;
        padding: 0;
    }

    .container {
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h1 {
        margin-top: 0;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
    }

    .form-group input[type="file"] {
        display: block;
    }

    .form-group input[type="submit"] {
        padding: 10px 20px;
        background-color: #333;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .form-group input[type="submit"]:hover {
        background-color: #555;
    }

    #uploaded-image {
        height: auto;
        width: 50%;
        border-radius: 15%;

        padding: 50px
    }
</style>
</head>

<body>
    
    <div class="container-fluid  " style="padding-bottom: 5vh;padding-top:5vh">
        <div style="text-align: center;padding-top:3%">
            <h1>Upload Photo</h1>
        </div>
        
        <form action="/upload" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="photo" id="photolabel">Choose Photo:</label>
                <input type="file" name="photo" id="photo">
            </div>
            <div class="form-group">
                <label for="title">Title</label>
                <input  style="width:50%" type="text" name="title" id="">
            </div>
            <div id="imagewala"></div>

            <div class="form-group">
                <label for="text">Text:</label>
                <div id="editor" style="height: 300px;"></div>
                <input type="hidden" name="text" id="hidden-text">
            </div>

            <div class="form-group">
                <input type="submit" value="Upload">
            </div>
        </form>
    </div>
</body>
<script>
    function handleFileUpload(event) {
        const img = document.createElement("img");
        img.id = "uploaded-image";
        document.getElementById("imagewala").appendChild(img);

        const uploadedImage = document.getElementById('uploaded-image');
        const file = event.target.files[0];

        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                uploadedImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        } else {
            uploadedImage.src = "";
        }
    }


    document.getElementById('photo').addEventListener('change', handleFileUpload);



    var quill = new Quill('#editor', {
        theme: 'snow'  // Specify the theme ('snow' for a white background)
    });

    // Update the hidden input field with the HTML content of the editor
    document.querySelector('form').onsubmit = function() {
        var hiddenInput = document.querySelector('#hidden-text');
        hiddenInput.value = quill.root.innerHTML;
    };

</script>


{%endblock%}